# This file is generated by Chef.
# Local changes will be overwritten
#
# Postfix master process configuration file.  For details on the format
# of the file, see the master(5) manual page (command: "man 5 master").
#
# ==========================================================================
# service type  private unpriv  chroot  wakeup  maxproc command + args
#               (yes)   (yes)   (yes)   (never) (100)
# ==========================================================================
<% @settings.sort_by{|k,v| v['order']}.map do |service, properties| -%>
<%  next if !properties['active'] -%>
<%  if properties.has_key?('comment') -%>
#
#<%=  properties['comment'] %>
<%  end -%>
<%  if properties.has_key?('service') -%>
<%= properties['service'].ljust(10) -%>
<%  else -%>
<%= service.ljust(10) -%>
<%  end -%>
 <%= properties['type'].ljust(6) -%>
<%  if properties.has_key?('private') -%>
<%   if properties['private'] -%>
<% priv='y' -%>
<%   else -%>
<% priv='n' -%>
<%   end -%>
<%  else -%>
<% priv='-' -%>
<%  end -%>
<%=  priv.ljust(8) -%>
<%  if properties.has_key?('unpriv') -%>
<%   if properties['unpriv'] -%>
<% unpriv='y' -%>
<%   else -%>
<% unpriv='n' -%>
<%   end -%>
<%  else -%>
<% unpriv='-' -%>
<%  end -%>
<%=  unpriv.ljust(8) -%>
<%  if properties.has_key?('chroot') -%>
<%   if properties['chroot'] -%>
<% chroot='y' -%>
<%   else -%>
<% chroot='n' -%>
<%   end -%>
<%  else -%>
<% chroot='-' -%>
<%  end -%>
<%=  chroot.ljust(7) -%>
<%  if properties.has_key?('wakeup') -%>
 <%= properties['wakeup'].ljust(7) -%>
<%  else -%>
 <%=  '-'.ljust(7) -%>
<%  end -%>
<%  if properties.has_key?('maxproc') -%>
 <%= properties['maxproc'].ljust(7) -%>
<%  else -%>
 <%=  '-'.ljust(7) -%>
<%  end -%>
 <%= properties['command'] %>
<%  properties['args'].each do |arg| -%>
  <%= arg %>
<%  end -%>
<% end -%>
